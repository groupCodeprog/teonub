function generaImagen(){html2canvas(document.querySelector("#conf")).then(t=>{document.querySelector("#canvaReport").appendChild(t),$("#canvaReport").find("img").eq(0).attr("class","img-responsive"),$("#canvaReport").find("img").eq(0).attr("class","img-fluid");document.querySelector("canvas").toDataURL("image/jpeg",1);let a=t.toDataURL("image/jpeg",1),e=new jsPDF("","pt","a4"),o=e.internal.pageSize.getWidth(),l=e.internal.pageSize.getHeight();e.addImage(a,"JPEG",0,0,o,l);let n=$(".txtdate").val()+$(".txttotal").val()+$(".text-hora").val()+".pdf";e.save(n||"docu.pdf")})}var myModal=new bootstrap.Modal(document.getElementById("modal"));function setFecha(){fecha=new Date($(".txtdate").val()+"T00:00:00"),$(".fecha-text").eq(0).html($("<strong>",{text:fecha.toLocaleDateString(void 0,{weekday:"long",year:"numeric",month:"long",day:"numeric"})}))}function cargarDatos(){$(".txthora").eq(0).html($("<strong>",{text:$(".text-hora").val()+" AM"})),setFecha(),$(".lblcita").find("strong").text($(".txtcita").eq(0).val()),$(".lblcompartido").find("em").text('"'+$(".txttipo").eq(0).val()+'"'),$(".lblestado").find("strong").text($(".txtestado").eq(0).val()),$(".lblclientes").find("strong").text($(".txtnombre").eq(0).val()),$(".lbltotal").find("strong").text("Total: $"+parseFloat($(".txttotal").eq(0).val())+" MXN"),$(".lblabono").find("strong").text("Anticipo: $"+parseFloat($(".txtabonado").eq(0).val())+" MXN"),$(".lblresta").find("strong").text("Resta: $"+parseFloat(calculaPago())+" MXN"),generaImagen()}function calculaPago(){return parseFloat($(".txttotal").eq(0).val())-parseFloat($(".txtabonado").eq(0).val())}myModal.show(),$(".lbl-pagado").hide(),$(".btn-genera").click((function(t){t.preventDefault(),$("#canvaReport").html(""),cargarDatos()})),$(".txtabonado").eq(0).keyup((function(t){t.preventDefault(),$(".txtresta").eq(0).val(calculaPago())})),$(".txtestado").eq(0).keyup((function(t){t.preventDefault(),"pendiente"==$(this).val()?($(".lbl-pagado").hide(),$(".lblabono").show(),$(".lblresta").show()):($(".lblabono").hide(),$(".lblresta").hide(),$(".lbl-pagado").show())}));